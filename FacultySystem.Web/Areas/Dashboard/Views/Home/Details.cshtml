@model ContentManagementSystem.Models.ViewModels.DetailsViewModel

@{
    ViewBag.Title = "مشخصات پایه";
    Layout = MVC.Dashboard.Shared.Views._ProfessorMasterLayout;
    //var emailRegex = "*{1,20}[.*{1,20}][.*{1,20}][.*{1,20}]@*{1,20}[.*{2,6}][.*{1,2}]";
}

    <div id="page_content">
        <div id="page_content_inner">
                <div class="uk-grid uk-grid-width-large-1-4 uk-grid-width-medium-1-2 uk-grid-medium" data-uk-grid-margin>
                    <div style="width: 100%;">
                        <div class="md-card">
                            <div class="md-card-content">
                                <ul class="md-list md-list-addon md-list-right">
                                    <li>
                                        <div class="md-list-addon-element">
                                            <i class="md-list-addon-icon material-icons uk-text-warning">notifications</i>
                                        </div>
                                        <div class="md-list-content uk-text-warning">
                                            <span class="md-list-heading">توجه</span>
                                            <span class="uk-text-medium">لطفاً پس از تغییر اطلاعات خود، جهت ذخیره اطلاعات حتماً بر روی دکمه دایره شکل آبی رنگ در پایین صفحه کلیک نمائید.</span>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            <form action="@Url.Action(MVC.Dashboard.Home.Details())" class="dovalidate ajaxsubmit load-waiter" method="post">
                <div class="md-card">
                    <div class="md-card-content">
                        <div class="uk-grid uk-grid-small" data-uk-grid-margin="">
                            <div class="uk-width-large-1-3 uk-width-medium-1-1 uk-width-small-1-1">
                                <div class="md-input-wrapper"><label>نام</label><input type="text" data-parsley-required="true" class="md-input" id="firstname" name="firstname" value="@Model.FirstName"></div>
                            </div>
                            <div class="uk-width-large-1-3 uk-width-medium-1-1 uk-width-small-1-1">
                                <div class="md-input-wrapper"><label>نام خانوادگی</label><input type="text" data-parsley-required="true" class="md-input" id="lastname" name="lastname" value="@Model.LastName"></div>
                            </div>
                            <div class="uk-width-large-1-3 uk-width-medium-1-1 uk-width-small-1-1">
                                <div class="md-input-wrapper"><label>نام متعارف در مقالات</label><input type="text" class="md-input" id="commonauthorpapername" name="commonauthorpapername" value="@Model.CommonAuthorPaperName"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="uk-grid uk-grid-small" data-uk-grid-match="{target:'.md-card'}">
                    <div class="uk-width-large-1-3 uk-width-medium-1-1 uk-width-small-1-1">
                        <div class="md-card">
                            <div class="md-card-content">
                                <div class="uk-grid">
                                    <div class="uk-width-1-1">
                                        <div class="uk-form-row"><label>ایمیل اصلی</label><input dir="ltr" data-inputmask="'alias': 'email'" data-parsley-required="true" data-parsley-type="email" type="text" class="md-input" id="email" name="email" style="font-family: Arial, Tahoma;" value="@Model.Email"><span class="md-input-bar "></span><span class="uk-form-help-block uk-text-primary" style="font-size: 15px !important;">ایمیل اصلی در درجه اول ایمیلی جهت تعامل با سامانه می باشد، لذا در انتخاب آن دقت فرمائید.</span></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="uk-width-large-1-3 uk-width-medium-1-1 uk-width-small-1-1">
                        <div class="md-card">
                            <div class="md-card-content">
                                <div class="uk-grid">
                                    <div class="uk-width-1-1">
                                        <label>ایمیل های جایگزین (فرعی)</label>
                                        <div class="uk-form-row">
                                            <input type="text" class="md-input" id="secondaryemails" name="secondaryemails" value="@Model.SecondaryEmails"><span class="md-input-bar "></span>
                                            <span class="uk-form-help-block uk-text-primary" dir="rtl" style="font-size: 15px !important;">پس از وارد کردن هر آدرس ایمیل یکی از دکمه های , یا Tab یا Enter را بزنید. بجز ایمیل اصلی می توانید ایمیل های دیگرتان را در این قسمت وارد نمائید.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="uk-width-large-1-3 uk-width-medium-1-1 uk-width-small-1-1">
                        <div class="md-card">
                            <div class="md-card-content">
                                <div class="uk-grid">
                                    <div class="uk-width-1-1">
                                        <div class="uk-form-row"><label>لینک صفحه شخصی</label><input dir="ltr" type="text" data-parsley-type="url" class="md-input" id="personalwebpage" name="personalwebpage" value="@Model.PersonalWebPage" style="font-family: Arial, Tahoma;"><span class="md-input-bar "></span></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="uk-grid uk-grid-small mt-25" data-uk-grid-margin data-uk-grid-match="{target:'.md-card'}" id="professor-details">
                    <div class="uk-width-large-3-5 uk-width-medium-1-3 uk-width-small-1-1">
                        <div class="md-card">
                            <div class="md-card-content">
                                <div class="uk-grid">
                                    <div class="uk-width-large-1-3 uk-width-medium-1-3 uk-width-small-1-1">
                                        <div class="md-input-wrapper">
                                            <label>تاریخ تولد</label>
                                            <input type="text" dir="ltr" style="font-family: Arial, Tahoma;" readonly class="md-input" id="birthdaydate" name="birthdaydate"><span class="md-input-bar "></span>
                                        </div>
                                    </div>
                                    <div class="uk-width-large-1-3 uk-width-medium-1-3 uk-width-small-1-1">
                                        <div class="md-input-wrapper">
                                            <label>محل تولد</label>
                                            <input type="text" class="md-input" id="birthplace" name="birthplace" value="@Model.BirthPlace"><span class="md-input-bar "></span>
                                        </div>
                                    </div>
                                    <div class="uk-width-large-1-3 uk-width-medium-1-3 uk-width-small-1-1">
                                        <div class="md-input-wrapper">
                                            <label>محل سکونت</label>
                                            <input type="text" class="md-input" id="location" name="location" value="@Model.Location"><span class="md-input-bar "></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="uk-width-large-1-5 uk-width-medium-1-3 uk-width-small-1-1">
                        <div class="md-card">
                            <div class="md-card-content">
                                <div class="uk-grid">
                                    <div class="uk-width-1-1">
                                        <div class="md-input-wrapper">
                                            <label>شماره همراه</label><input type="text" dir="ltr" style="font-family: Arial, Tahoma;" data-inputmask-regex="(0|\+98)?([ ]|,|-|[()]){0,2}9[1|2|3|4]([ ]|,|-|[()]){0,2}(?:[0-9]([ ]|,|-|[()]){0,2}){8}" class="md-input" id="mobile" name="mobile" value="@Model.Mobile"><span class="md-input-bar "></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="uk-width-large-1-5 uk-width-medium-1-3 uk-width-small-1-1">
                        <div class="md-card">
                            <div class="md-card-content">
                                <div class="uk-grid">
                                    <div class="uk-width-1-1">
                                        <div class="md-input-wrapper">
                                            <label class="dropdown-label">دانشکده</label>
                                            @Html.DropDownList("college", Model.GetCollegeList(), new { data_md_selectize = "data-md-selectize" })
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="uk-grid uk-grid-small mt-25" data-uk-grid-margin="" data-uk-grid-match="{target:'.md-card'}">
                    <div class="uk-width-large-3-5 uk-width-medium-2-3 uk-width-small-1-1">
                        <div class="md-card">
                            <div class="md-card-content">
                                <div class="uk-grid">
                                    <div class="uk-width-large-1-3 uk-width-medium-1-3 uk-width-small-1-1">
                                        <div class="md-input-wrapper">
                                            <label class="dropdown-label">گروه آموزشی</label>
                                            @Html.DropDownList("educationalgroup", Model.GetEducationalGroupList(), new { data_md_selectize = "data-md-selectize" })
                                        </div>
                                    </div>
                                    <div class="uk-width-large-1-3 uk-width-medium-1-3 uk-width-small-1-1">
                                        <div class="md-input-wrapper">
                                            <label class="dropdown-label">مرتبه علمی</label>
                                            @Html.DropDownList("academicrank", Model.GetAcademicRankList(), new { data_md_selectize = "data-md-selectize" })
                                        </div>
                                    </div>
                                    <div class="uk-width-large-1-3 uk-width-medium-1-3 uk-width-small-1-1">
                                        <div class="md-input-wrapper">
                                            <label class="dropdown-label">درجه تحصیلی</label>
                                            @Html.DropDownList("educationaldegree", Model.GetEducationalDegreeList(), new { data_md_selectize = "data-md-selectize" })
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="uk-width-large-2-5 uk-width-medium-1-3 uk-width-small-1-1">
                        <div class="md-card">
                            <div class="md-card-content">
                                <div class="uk-grid">
                                    <div class="uk-width-large-1-2 uk-width-medium-1-2 uk-width-small-1-1">
                                        <div class="md-input-wrapper">
                                            <label class="dropdown-label">وضعیت تاهل</label>
                                            @Html.DropDownList("maritalstatus", Model.GetMaritalStatusList(), new { data_md_selectize = "data-md-selectize" })
                                        </div>
                                    </div>
                                    <div class="uk-width-large-1-2 uk-width-medium-1-2 uk-width-small-1-1">
                                        <div class="md-input-wrapper">
                                            <label class="dropdown-label">جنسیت</label>
                                            @Html.DropDownList("sex", Model.GetSexList(), new { data_md_selectize = "data-md-selectize" })
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="md-card">
                    <div class="md-card-content">
                        <div class="uk-grid uk-grid-small" data-uk-grid-margin="">
                            <div class="uk-width-large-1-3 uk-width-medium-1-1 uk-width-small-1-1">
                                <div class="md-input-wrapper"><label>لینک پروفایل اسکاپوس</label><input type="text" dir="ltr" data-parsley-type="url" class="md-input" id="scopusid" name="scopusid" value="@Model.ScopusId"><span class="md-input-bar "></span></div>
                            </div>
                            <div class="uk-width-large-1-3 uk-width-medium-1-1 uk-width-small-1-1">
                                <div class="md-input-wrapper"><label>لینک پروفایل گوگل اسکولار</label><input type="text" dir="ltr" data-parsley-type="url" class="md-input" id="googlescholarid" name="googlescholarid" value="@Model.GoogleScholarId"><span class="md-input-bar "></span></div>
                            </div>
                            <div class="uk-width-large-1-3 uk-width-medium-1-1 uk-width-small-1-1">
                                <div class="md-input-wrapper"><label>لینک پروفایل پاب مد</label><input type="text" dir="ltr" data-parsley-type="url" class="md-input" id="pubmedid" name="pubmedid" value="@Model.PubMedId"><span class="md-input-bar "></span></div>
                            </div>
                        </div>
                        <div class="uk-grid uk-grid-small" data-uk-grid-margin="">
                            <div class="uk-width-large-1-3 uk-width-medium-1-1 uk-width-small-1-1">
                                <div class="md-input-wrapper"><label>لینک پروفایل مدلیب</label><input type="text" dir="ltr" data-parsley-type="url" class="md-input" id="medlibid" name="medlibid" value="@Model.MedLibId"><span class="md-input-bar "></span></div>
                            </div>
                            <div class="uk-width-large-1-3 uk-width-medium-1-1 uk-width-small-1-1">
                                <div class="md-input-wrapper"><label>لینک پروفایل ResearchGate</label><input type="text" dir="ltr" data-parsley-type="url" class="md-input" id="researchgateid" name="researchgateid" value="@Model.ResearchGateId"><span class="md-input-bar "></span></div>
                            </div>
                            <div class="uk-width-large-1-3 uk-width-medium-1-1 uk-width-small-1-1">
                                <div class="md-input-wrapper"><label>لینک پروفایل ORCID</label><input type="text" dir="ltr" data-parsley-type="url" class="md-input" id="orcidid" name="orcidid" value="@Model.OrcidId"><span class="md-input-bar "></span></div>
                            </div>
                        </div>
                        <div class="uk-grid uk-grid-small" data-uk-grid-margin="">
                            <div class="uk-width-large-1-3 uk-width-medium-1-1 uk-width-small-1-1">
                                <div class="md-input-wrapper"><label>لینک پروفایل ResearcherID</label><input type="text" dir="ltr" data-parsley-type="url" class="md-input" id="researcherid" name="researcherid" value="@Model.ResearcherId"><span class="md-input-bar "></span></div>
                            </div>
                            <div class="uk-width-large-1-3 uk-width-medium-1-1 uk-width-small-1-1">
                            </div>
                            <div class="uk-width-large-1-3 uk-width-medium-1-1 uk-width-small-1-1">
                            </div>
                        </div>
                        @if (Convert.ToBoolean(ConfigurationManager.AppSettings["EnableHIndex"]))
                        {
                        <div class="uk-grid uk-grid-small mt-25" data-uk-grid-margin="">
                            <div class="uk-width-large-1-1">
                                <input type="checkbox" data-md-icheck id="updateindex" name="updateindex"><label for="updateindex" class="inline-label cursor-pointer">H-Index و ارجاعات مقالات من را نیز بروز رسانی کن(سورس: اسکاپوس و گوگل اسکولار)</label>
                                <div class="uk-text-primary mt-10"><i class="fa fa-info-circle"></i>&nbsp;&nbsp;توصیه می کنیم لینک تمامی پروفایل های خود را حتماً وارد نمائید.</div>
                            </div>
                        </div>
                        }
                    </div>
                </div>

                <div class="md-card">
                    <div class="md-card-content">
                        <div class="uk-grid uk-grid-small" data-uk-grid-margin="">
                            <div class="uk-width-large-1-2 uk-width-medium-1-1 uk-width-small-1-1">
                                <label>فیلدهای مورد علاقه در پژوهش</label>
                                <div class="uk-form-row">
                                    <input type="text" class="md-input" id="researchfields" name="researchfields" value="@Model.ResearchFields"><span class="md-input-bar "></span>
                                    <span class="uk-form-help-block uk-text-primary" dir="rtl" style="font-size: 15px !important;">پس از وارد کردن هر آیتم یکی از دکمه های , یا Tab یا Enter را بزنید.</span>
                                </div>
                            </div>
                            <div class="uk-width-large-1-2 uk-width-medium-1-1 uk-width-small-1-1">
                                <label>علاقه مندی های شخصی</label>
                                <div class="uk-form-row">
                                    <input type="text" class="md-input" id="interests" name="interests" value="@Model.Interests"><span class="md-input-bar "></span>
                                    <span class="uk-form-help-block uk-text-primary" dir="rtl" style="font-size: 15px !important;">پس از وارد کردن هر آیتم یکی از دکمه های , یا Tab یا Enter را بزنید.</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="md-fab-wrapper mb-30">
                    <button type="submit" class="md-fab md-fab-primary waves-button waves-effect waves-light" id="details-submit" title="ذخیره اطلاعات" data-uk-tooltip="{pos:'right', cls: 'fs-16p'}">
                        <i class="material-icons"></i>
                    </button>
                </div>
            </form>

        </div>
    </div>


@section Scripts{
    <script src="~/bower_components/jquery.inputmask/dist/jquery.inputmask.bundle.js"></script>
    <script>
        //var is_dirty = false;
        //$(':input').change(function () {
        //    if (!is_dirty) {
        //        is_dirty = true;
        //    }
        //});

        window.onbeforeunload = function () {
            //if (is_dirty) {
                return 'آیا تغییرات در اطلاعات خود را ذخیره کرده اید?';
            //}
        };

        var detailsHasBirthDate = false;
        @if (Model.BirthDate != null)
        {
            <text>
                detailsHasBirthDate = true;
                var detailsBirthDateYear = @(Model.GetPersianBirthDate().Split('/')[0]);
                var detailsBirthDateMonth = @(Model.GetPersianBirthDate().Split('/')[1]);
                var detailsBirthDateDay = @(Model.GetPersianBirthDate().Split('/')[2]);
            </text>
        }
    </script>
}
